<div class="row">
  <div class="col-sm-9">
    <h1>Hi {{currentUser.name}}! <a routerLink="{{currentUser.url}}">View profile</a></h1>
  </div>
  <div class="col-sm-3 text-right">
    <button routerLink="/settings" class="btn btn-link btn-light">
      Edit profile
    </button>
  </div>
</div>

<div class="jumbotron">
  <h2>Latest activity</h2>
  <div class="test mb-2" *ngFor="let test of userTests"
       [ngStyle]="{'background': 'url(' + this.testTypes[this.testTypesKeys[test.type]].pic + ')'}">
    <div class="media">
      <div class="media-body col-md-8 ml-md-auto test-{{this.testTypes[this.testTypesKeys[test.type]].styleName}}">
        <h2 class="mt-3 mb-2">{{this.testTypes[this.testTypesKeys[test.type]].name}}
          <span class="badge"
                [ngClass]="{ 'badge-success': test.status === testStatus.FINISHED, 'badge-danger': test.status === testStatus.ACTIVE, 'badge-secondary': test.status === testStatus.EXPIRED}">{{test.status}}</span>
        </h2>
        <p>
          <svg class="feather">
            <use xlink:href="/assets/feather-sprite.svg#link"/>
          </svg>
          <a routerLink="{{test.url}}" target="_blank" class="btn btn-link text-light">mega-iq.com{{test.url}}</a>
        </p>
        <div class="row">
          <p class="col">
            Started: {{test.createDate | date:'medium'}}
          </p>
          <p class="col" *ngIf="test.finishDate">
            Finished: {{test.finishDate | date:'medium'}}
          </p>
        </div>
      </div>
      <div class="media-body col-md-4">
        <p class="text-center m-5">
          <a routerLink="{{test.url}}" class="btn btn-warning btn-block btn-lg"
             *ngIf="test.status === testStatus.ACTIVE">Continue test</a>
          <a routerLink="/classroom/{{test.code}}" class="btn btn-primary btn-block btn-lg"
             *ngIf="test.status === testStatus.FINISHED">
            <svg class="feather">
              <use xlink:href="/assets/feather-sprite.svg#sun"/>
            </svg>
            Check results</a>

          <a class="btn btn-danger btn-block btn-lg mt-5" (click)="deleteTestResult(test.code)"
             *ngIf="test.status !== testStatus.ACTIVE">
            <svg class="feather">
              <use xlink:href="/assets/feather-sprite.svg#trash"/>
            </svg>
            Delete</a>
        </p>
      </div>
    </div>
  </div>
</div>
